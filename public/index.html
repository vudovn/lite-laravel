<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VuToiChoi - PHP Framework Nhẹ và Mạnh Mẽ</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #F05340;
            --secondary: #FF2D20;
            --dark: #2d3748;
            --light: #f8fafc;
            --gray: #6b7280;
            --sidebar-width: 280px;
            --font-family: 'Nunito', sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: #fff;
            color: #1a202c;
            line-height: 1.6;
        }

        /* Header styles */
        .documentation-header {
            background-color: var(--primary);
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            padding: 1.25rem 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1.5rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo:hover {
            color: rgba(255, 255, 255, 0.9);
        }

        .logo img {
            height: 32px;
            margin-right: 0.5rem;
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        .nav-link:hover {
            color: white;
        }

        .nav-link.active {
            color: white;
        }

        .github-link {
            color: white;
            font-size: 1.2rem;
        }

        /* Sidebar */
        .documentation-sidebar {
            position: fixed;
            width: var(--sidebar-width);
            height: 100vh;
            left: 0;
            top: 70px;
            padding: 2rem 0;
            background: white;
            border-right: 1px solid #e2e8f0;
            overflow-y: auto;
            z-index: 90;
        }

        .sidebar-inner {
            padding: 0 1.5rem;
        }

        .sidebar-heading {
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--primary);
            margin: 1.5rem 0 0.75rem 0;
        }

        .sidebar-link {
            display: block;
            color: #4a5568;
            font-size: 0.95rem;
            padding: 0.4rem 0;
            text-decoration: none;
            transition: color 0.2s;
        }

        .sidebar-link:hover {
            color: var(--primary);
        }

        .sidebar-link.active {
            color: var(--primary);
            font-weight: 600;
        }

        /* Main content */
        .documentation-content {
            margin-left: var(--sidebar-width);
            margin-top: 70px;
            padding: 2rem 3rem;
            max-width: calc(100% - var(--sidebar-width));
        }

        .content-section {
            max-width: 768px;
            margin: 0 auto;
        }

        h1 {
            font-weight: 700;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #1a202c;
        }

        h2 {
            font-weight: 700;
            font-size: 1.8rem;
            margin: 2.5rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
            color: #1a202c;
        }

        h3 {
            font-weight: 600;
            font-size: 1.4rem;
            margin: 1.75rem 0 1rem;
            color: #1a202c;
        }

        p {
            margin-bottom: 1.25rem;
            color: #4a5568;
        }

        pre {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 1.25rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }

        code {
            font-family: Menlo, Monaco, Consolas, "Liberation Mono", monospace;
            font-size: 0.9rem;
        }

        /* Version dropdown */
        .dropdown-version {
            position: relative;
            display: inline-block;
        }

        .dropdown-button {
            background-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dropdown-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 160px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1;
            border-radius: 0.25rem;
            margin-top: 0.5rem;
        }

        .dropdown-content a {
            color: #4a5568;
            padding: 0.5rem 1rem;
            text-decoration: none;
            display: block;
            font-size: 0.9rem;
        }

        .dropdown-content a:hover {
            background-color: #f7fafc;
            color: var(--primary);
        }

        .dropdown-version:hover .dropdown-content {
            display: block;
        }

        .mobile-menu-toggle {
            display: none;
        }

        .search-box {
            position: relative;
            margin-top: 1.5rem;
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
            font-family: var(--font-family);
            font-size: 0.9rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(240, 83, 64, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #a0aec0;
            font-size: 1rem;
        }

        ul {
            margin-bottom: 1.5rem;
            color: #4a5568;
        }

        li {
            margin-bottom: 0.5rem;
        }

        .table-of-contents {
            background-color: #f8fafc;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 2rem;
        }

        .table-of-contents h4 {
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .table-of-contents ul {
            margin-bottom: 0;
            list-style-type: none;
            padding-left: 0;
        }

        .table-of-contents li {
            margin-bottom: 0.5rem;
        }

        .table-of-contents a {
            color: #4a5568;
            text-decoration: none;
        }

        .table-of-contents a:hover {
            color: var(--primary);
        }

        .tip {
            background-color: rgba(240, 83, 64, 0.1);
            border-left: 4px solid var(--primary);
            padding: 1.25rem;
            border-radius: 0.25rem;
            margin-bottom: 1.5rem;
        }

        .tip p:last-child {
            margin-bottom: 0;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .documentation-sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .documentation-sidebar.show {
                transform: translateX(0);
            }

            .documentation-content {
                margin-left: 0;
                max-width: 100%;
                padding: 2rem 1.5rem;
            }

            .mobile-menu-toggle {
                display: block;
                background: transparent;
                border: none;
                color: white;
                font-size: 1.2rem;
                cursor: pointer;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="documentation-header">
        <div class="header-container">
            <button class="mobile-menu-toggle">
                <i class="fa-solid fa-bars"></i>
            </button>

            <a href="/" class="logo">
                <span>VuToiChoi</span>
            </a>

            <div class="nav-links">
                <div class="dropdown-version">
                    <button class="dropdown-button">
                        v1.0 <i class="fa-solid fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="#">v1.0</a>
                        <a href="#">Phiên bản đang phát triển</a>
                    </div>
                </div>

                <a href="docs.html" class="nav-link active">Tài liệu</a>
                <a href="#" class="nav-link">Ecosystem</a>
                <a href="https://github.com/vutoichoi/framework" class="github-link" target="_blank">
                    <i class="fa-brands fa-github"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="documentation-sidebar">
        <div class="sidebar-inner">
            <div class="search-box">
                <i class="fa-solid fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Tìm kiếm trong tài liệu...">
            </div>

            <div class="sidebar-heading">Bắt đầu</div>
            <a href="#gioi-thieu" class="sidebar-link active">Giới thiệu</a>
            <a href="#cai-dat" class="sidebar-link">Cài đặt</a>
            <a href="#cau-hinh" class="sidebar-link">Cấu hình</a>
            <a href="#cau-truc-thu-muc" class="sidebar-link">Cấu trúc thư mục</a>

            <div class="sidebar-heading">Khái niệm cốt lõi</div>
            <a href="#request-lifecycle" class="sidebar-link">Request Lifecycle</a>
            <a href="#dependency-injection" class="sidebar-link">Dependency Injection</a>
            <a href="#service-providers" class="sidebar-link">Service Providers</a>

            <div class="sidebar-heading">Routing</div>
            <a href="#basic-routing" class="sidebar-link">Basic Routing</a>
            <a href="#route-parameters" class="sidebar-link">Route Parameters</a>
            <a href="#route-groups" class="sidebar-link">Route Groups</a>
            <a href="#resource-routes" class="sidebar-link">Resource Routes</a>

            <div class="sidebar-heading">Controllers</div>
            <a href="#basic-controllers" class="sidebar-link">Basic Controllers</a>
            <a href="#resource-controllers" class="sidebar-link">Resource Controllers</a>

            <div class="sidebar-heading">Views</div>
            <a href="#basic-views" class="sidebar-link">Basic Views</a>
            <a href="#templates" class="sidebar-link">Templates</a>
            <a href="#layouts" class="sidebar-link">Layouts</a>

            <div class="sidebar-heading">Database</div>
            <a href="#database-config" class="sidebar-link">Configuration</a>
            <a href="#query-builder" class="sidebar-link">Query Builder</a>
            <a href="#models" class="sidebar-link">Models</a>

            <div class="sidebar-heading">Security</div>
            <a href="#authentication" class="sidebar-link">Authentication</a>
            <a href="#validation" class="sidebar-link">Validation</a>
            <a href="#csrf-protection" class="sidebar-link">CSRF Protection</a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="documentation-content">
        <div class="content-section">
            <h1 id="gioi-thieu">VuToiChoi Framework</h1>

            <div class="table-of-contents">
                <h4>Nội dung</h4>
                <ul>
                    <li><a href="#gioi-thieu">Giới thiệu</a></li>
                    <li><a href="#cai-dat">Cài đặt</a></li>
                    <li><a href="#cau-hinh">Cấu hình</a></li>
                    <li><a href="#cau-truc-thu-muc">Cấu trúc thư mục</a></li>
                </ul>
            </div>

            <p>VuToiChoi là một PHP framework nhẹ, mạnh mẽ và linh hoạt lấy cảm hứng từ Laravel nhưng tập trung vào hiệu
                suất cao và dễ sử dụng. Framework được thiết kế để giúp các nhà phát triển xây dựng các ứng dụng web một
                cách nhanh chóng mà không cần phải học quá nhiều khái niệm phức tạp.</p>

            <p>VuToiChoi cung cấp các tính năng cần thiết cho phát triển web hiện đại như routing mạnh mẽ, hệ thống MVC
                đơn giản, template engine, validation, database abstraction, và nhiều tiện ích khác.</p>

            <div class="tip">
                <p>VuToiChoi được xây dựng với mục tiêu đơn giản hóa quy trình phát triển mà vẫn giữ được tính linh hoạt
                    và mạnh mẽ. Nếu bạn quen thuộc với Laravel, bạn sẽ cảm thấy thoải mái khi sử dụng VuToiChoi.</p>
            </div>

            <h2 id="cai-dat">Cài đặt</h2>

            <p>VuToiChoi yêu cầu PHP phiên bản 7.4 trở lên và Composer để quản lý các phụ thuộc.</p>

            <h3>Thông qua Composer Create-Project</h3>

            <p>Cách đơn giản nhất để tạo một dự án VuToiChoi mới là sử dụng Composer:</p>

            <pre><code>composer create-project vutoichoi/framework ten-du-an</code></pre>

            <p>Lệnh này sẽ tạo một thư mục mới có tên "ten-du-an" với tất cả các phụ thuộc đã được cài đặt.</p>

            <h2 id="cau-hinh">Cấu hình</h2>

            <p>Sau khi cài đặt, bạn cần cấu hình một số thông số cơ bản cho ứng dụng của mình:</p>

            <h3>Environment File</h3>

            <p>Sao chép file <code>.env.example</code> thành <code>.env</code> và cấu hình các biến môi trường phù hợp
                với môi trường của bạn:</p>

            <pre><code>cp .env.example .env</code></pre>

            <p>Chỉnh sửa file <code>.env</code> để thiết lập các thông số như database, URL ứng dụng, và môi trường:</p>

            <pre><code>APP_NAME=VuToiChoi
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost

DB_HOST=localhost
DB_DATABASE=database_name
DB_USERNAME=root
DB_PASSWORD=
DB_CHARSET=utf8mb4</code></pre>

            <h2 id="cau-truc-thu-muc">Cấu trúc thư mục</h2>

            <p>Dự án VuToiChoi có cấu trúc thư mục được tổ chức một cách rõ ràng:</p>

            <pre><code>/app                  # Chứa mã nguồn ứng dụng
  /Controllers        # Các controllers của ứng dụng
  /Models             # Các models của ứng dụng
  /Middleware         # Các middleware của ứng dụng
/bootstrap            # Tệp khởi động ứng dụng
/config               # Cấu hình ứng dụng
/Framework            # Mã nguồn của framework
/public               # Điểm vào của ứng dụng
/resources            # Tài nguyên như views, assets
  /views              # Các template của ứng dụng
/routes               # Định nghĩa routes
/storage              # Dữ liệu được tạo ra bởi ứng dụng</code></pre>

            <h3>Thư mục App</h3>

            <p>Thư mục <code>app</code> chứa mã nguồn chính của ứng dụng. Hầu hết các lớp trong ứng dụng của bạn sẽ được
                đặt trong thư mục này.</p>

            <h3>Thư mục Bootstrap</h3>

            <p>Thư mục <code>bootstrap</code> chứa file <code>app.php</code> khởi động framework. Thư mục này cũng có
                thể chứa các file cache được tạo ra bởi framework để tối ưu hiệu suất.</p>

            <h3>Thư mục Config</h3>

            <p>Như tên gọi của nó, thư mục <code>config</code> chứa tất cả các file cấu hình của ứng dụng. Đây là nơi
                tuyệt vời để đọc tất cả các tùy chọn có sẵn.</p>

            <h3>Thư mục Public</h3>

            <p>Thư mục <code>public</code> chứa file <code>index.php</code>, đây là điểm vào cho tất cả các requests đến
                ứng dụng của bạn. Thư mục này cũng chứa các tài nguyên như JavaScript, CSS và hình ảnh.</p>

            <h3>Thư mục Resources</h3>

            <p>Thư mục <code>resources</code> chứa các views và các tài nguyên thô như LESS, SASS, hoặc JavaScript chưa
                được biên dịch.</p>

            <h3>Thư mục Routes</h3>

            <p>Thư mục <code>routes</code> chứa tất cả các định nghĩa route cho ứng dụng của bạn. Theo mặc định,
                VuToiChoi đi kèm với file <code>web.php</code> cho các routes web.</p>

            <h3>Thư mục Storage</h3>

            <p>Thư mục <code>storage</code> chứa các file được tạo ra bởi ứng dụng, như cache, logs và các file được tải
                lên.</p>

            <h2 id="basic-routing">Basic Routing</h2>

            <p>VuToiChoi cung cấp một cú pháp đơn giản và dễ đọc để định nghĩa các routes cho ứng dụng của bạn. Route cơ
                bản nhất chấp nhận một URI và một Closure:</p>

            <pre><code>// routes/web.php
$router->get('/', function () {
    return 'Hello World';
});

$router->get('/users', function () {
    return 'Users List';
});</code></pre>

            <h3>Available Router Methods</h3>

            <p>Router cung cấp các phương thức để đăng ký các routes ứng với các HTTP verbs khác nhau:</p>

            <pre><code>$router->get($uri, $callback);
$router->post($uri, $callback);
$router->put($uri, $callback);
$router->delete($uri, $callback);</code></pre>

            <h3>Routing to Controllers</h3>

            <p>Thay vì sử dụng Closures trong các files route, bạn có thể sử dụng controllers để tổ chức hành vi của
                mình:</p>

            <pre><code>$router->get('/users', 'UserController@index');
$router->post('/users', 'UserController@store');</code></pre>

            <h2 id="route-parameters">Route Parameters</h2>

            <p>Đôi khi bạn cần lấy các phần của URI trong route của mình. Ví dụ, bạn có thể cần lấy ID của người dùng từ
                URL. Bạn có thể thực hiện điều này bằng cách xác định các tham số route:</p>

            <pre><code>$router->get('/users/{id}', function ($request) {
    $id = $request->param('id');
    return "User: {$id}";
});</code></pre>

            <h2 id="route-groups">Route Groups</h2>

            <p>Route groups cho phép bạn chia sẻ các thuộc tính route như middleware hoặc namespaces, trên một số lượng
                lớn các routes mà không cần phải xác định các thuộc tính đó trên mỗi route riêng lẻ.</p>

            <pre><code>$router->group(['prefix' => 'admin'], function ($router) {
    $router->get('/dashboard', 'AdminController@dashboard');
    $router->get('/users', 'AdminController@users');
});</code></pre>

            <p>Trong ví dụ trên, cả hai routes sẽ nhận prefix <code>admin</code>, khiến chúng có thể truy cập tại
                <code>/admin/dashboard</code> và <code>/admin/users</code>.
            </p>

            <h2 id="resource-routes">Resource Routes</h2>

            <p>VuToiChoi cung cấp một cách thuận tiện để định nghĩa các routes cho các controller RESTful. Thay vì định
                nghĩa từng route riêng lẻ, bạn có thể sử dụng phương thức <code>resource</code> để tạo nhiều route cho
                một resource với một dòng code:</p>

            <pre><code>$router->resource('users', 'UserController');</code></pre>

            <p>Lệnh này sẽ tạo ra các routes sau:</p>

            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Verb</th>
                        <th>URI</th>
                        <th>Action</th>
                        <th>Route Name</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>GET</td>
                        <td>/users</td>
                        <td>index</td>
                        <td>users.index</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/users/create</td>
                        <td>create</td>
                        <td>users.create</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/users</td>
                        <td>store</td>
                        <td>users.store</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/users/{id}</td>
                        <td>show</td>
                        <td>users.show</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/users/{id}/edit</td>
                        <td>edit</td>
                        <td>users.edit</td>
                    </tr>
                    <tr>
                        <td>PUT/PATCH</td>
                        <td>/users/{id}</td>
                        <td>update</td>
                        <td>users.update</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/users/{id}</td>
                        <td>destroy</td>
                        <td>users.destroy</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="basic-controllers">Basic Controllers</h2>

            <p>Controllers có thể nhóm các logic xử lý request liên quan thành một lớp duy nhất. Controllers được lưu
                trong thư mục <code>app/Controllers</code>.</p>

            <h3>Controller Cơ Bản</h3>

            <p>Dưới đây là một ví dụ về controller cơ bản:</p>

            <pre><code>// app/Controllers/UserController.php
&lt;?php

namespace App\Controllers;

use Framework\Request;

class UserController
{
    public function index(Request $request)
    {
        // Lấy tất cả người dùng
        return view('users.index', ['users' => $users]);
    }
    
    public function show(Request $request)
    {
        // Lấy ID từ route parameter
        $id = $request->param('id');
        
        // Lấy thông tin người dùng theo ID
        // $user = ...
        
        return view('users.show', ['user' => $user]);
    }
}</code></pre>

            <p>Để sử dụng controller, bạn chỉ cần tham chiếu đến nó trong định nghĩa route:</p>

            <pre><code>$router->get('/users', 'UserController@index');
$router->get('/users/{id}', 'UserController@show');</code></pre>

            <p>VuToiChoi sẽ tự động phân giải lớp controller và gọi phương thức được chỉ định.</p>

            <h2 id="resource-controllers">Resource Controllers</h2>

            <p>Nếu bạn đã sử dụng resource routing, việc tạo một controller để xử lý tất cả các hành động mặc định rất
                hữu ích. Bạn có thể tạo một controller với tất cả các phương thức mà resource routing sử dụng:</p>

            <pre><code>&lt;?php

namespace App\Controllers;

use Framework\Request;

class UserController
{
    /**
     * Hiển thị danh sách tài nguyên
     */
    public function index(Request $request)
    {
        // Lấy tất cả người dùng
        return view('users.index', ['users' => $users]);
    }
    
    /**
     * Hiển thị form để tạo tài nguyên mới
     */
    public function create(Request $request)
    {
        return view('users.create');
    }
    
    /**
     * Lưu trữ tài nguyên mới vào database
     */
    public function store(Request $request)
    {
        // Validate dữ liệu đầu vào
        $data = $request->validate([
            'name' => 'required|min:3',
            'email' => 'required|email|unique:users',
            'password' => 'required|min:8',
        ]);
        
        // Tạo người dùng mới
        // $user = ...
        
        return redirect('/users/' . $user->id);
    }
    
    /**
     * Hiển thị tài nguyên cụ thể
     */
    public function show(Request $request)
    {
        $id = $request->param('id');
        // Lấy người dùng theo ID
        // $user = ...
        
        return view('users.show', ['user' => $user]);
    }
    
    /**
     * Hiển thị form để chỉnh sửa tài nguyên
     */
    public function edit(Request $request)
    {
        $id = $request->param('id');
        // Lấy người dùng theo ID
        // $user = ...
        
        return view('users.edit', ['user' => $user]);
    }
    
    /**
     * Cập nhật tài nguyên cụ thể
     */
    public function update(Request $request)
    {
        $id = $request->param('id');
        
        // Validate dữ liệu đầu vào
        $data = $request->validate([
            'name' => 'required|min:3',
            'email' => 'required|email|unique:users,email,' . $id,
        ]);
        
        // Cập nhật người dùng
        // ...
        
        return redirect('/users/' . $id);
    }
    
    /**
     * Xóa tài nguyên cụ thể
     */
    public function destroy(Request $request)
    {
        $id = $request->param('id');
        // Xóa người dùng
        // ...
        
        return redirect('/users');
    }
}</code></pre>

            <h2 id="basic-views">Basic Views</h2>

            <p>Views chứa HTML của ứng dụng và tách logic ứng dụng khỏi logic hiển thị. Views được lưu trong thư mục
                <code>resources/views</code>.</p>

            <p>Ví dụ đơn giản về một view:</p>

            <pre><code>// resources/views/greeting.php
&lt;html>
    &lt;body>
        &lt;h1>Hello, {{ $name }}&lt;/h1>
    &lt;/body>
&lt;/html></code></pre>

            <p>Bạn có thể trả về view này từ route hoặc controller như sau:</p>

            <pre><code>$router->get('/greeting', function () {
    return view('greeting', ['name' => 'John']);
});</code></pre>

            <p>Trong ví dụ trên, chúng ta truyền một mảng dữ liệu cho view, biến <code>$name</code> sẽ có giá trị
                'John'.</p>

            <h3>Đường Dẫn Lồng Nhau</h3>

            <p>Bạn có thể tổ chức các views trong các thư mục con. Để tham chiếu đến các views này, bạn sử dụng ký hiệu
                "chấm":</p>

            <pre><code>return view('admin.users.index', $data);</code></pre>

            <p>Đoạn code trên sẽ tìm file ở đường dẫn <code>resources/views/admin/users/index.php</code>.</p>

            <h2 id="templates">Templates</h2>

            <p>VuToiChoi cung cấp template engine đơn giản nhưng mạnh mẽ. Template engine cho phép bạn sử dụng các biến,
                điều kiện, vòng lặp và bao gồm các template khác.</p>

            <h3>Hiển Thị Dữ Liệu</h3>

            <p>Bạn có thể hiển thị dữ liệu được truyền cho views bằng cách đặt biến trong cặp dấu ngoặc nhọn kép:</p>

            <pre><code>Hello, {{ $name }}</code></pre>

            <p>Bạn cũng có thể sử dụng cú pháp PHP truyền thống:</p>

            <pre><code>Hello, &lt;?php echo $name; ?></code></pre>

            <h3>Điều Kiện</h3>

            <p>Bạn có thể sử dụng các điều kiện trong templates như sau:</p>

            <pre><code>@if ($user->isAdmin())
    &lt;p>Bạn là admin&lt;/p>
@elseif ($user->isManager())
    &lt;p>Bạn là manager&lt;/p>
@else
    &lt;p>Bạn là người dùng thông thường&lt;/p>
@endif</code></pre>

            <h3>Vòng Lặp</h3>

            <p>VuToiChoi cung cấp các cấu trúc điều khiển thuận tiện cho các vòng lặp:</p>

            <pre><code>@foreach ($users as $user)
    &lt;p>Tên: {{ $user->name }}&lt;/p>
@endforeach</code></pre>

            <h2 id="layouts">Layouts</h2>

            <p>Layouts cho phép bạn định nghĩa một khung HTML chung và tái sử dụng nó giữa các trang khác nhau trong ứng
                dụng của bạn.</p>

            <h3>Định Nghĩa Layout</h3>

            <p>Đầu tiên, hãy định nghĩa một layout cơ bản:</p>

            <pre><code>// resources/views/layouts/app.php
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
    &lt;title>{{ $title ?? 'VuToiChoi App' }}&lt;/title>
    &lt;link rel="stylesheet" href="{{ asset('css/app.css') }}">
&lt;/head>
&lt;body>
    &lt;header>
        &lt;!-- Header content -->
    &lt;/header>
    
    &lt;main>
        {{ $content }}
    &lt;/main>
    
    &lt;footer>
        &lt;!-- Footer content -->
    &lt;/footer>
    
    &lt;script src="{{ asset('js/app.js') }}">&lt;/script>
&lt;/body>
&lt;/html></code></pre>

            <h3>Sử Dụng Layout</h3>

            <p>Để sử dụng layout này trong một view, bạn cần thiết lập layout cho view đó:</p>

            <pre><code>// resources/views/home.php
&lt;?php $this->setLayout('layouts.app'); ?>

&lt;h1>Trang chủ&lt;/h1>
&lt;p>Chào mừng đến với ứng dụng VuToiChoi!&lt;/p></code></pre>

            <h3>Sections</h3>

            <p>Bạn cũng có thể định nghĩa các section trong layout và điền nội dung của chúng từ các view:</p>

            <pre><code>// resources/views/layouts/app.php
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
    &lt;title>{{ $title ?? 'VuToiChoi App' }}&lt;/title>
    &lt;link rel="stylesheet" href="{{ asset('css/app.css') }}">
    @yield('styles')
&lt;/head>
&lt;body>
    &lt;header>
        &lt;!-- Header content -->
    &lt;/header>
    
    &lt;main>
        @yield('content')
    &lt;/main>
    
    &lt;footer>
        &lt;!-- Footer content -->
    &lt;/footer>
    
    &lt;script src="{{ asset('js/app.js') }}">&lt;/script>
    @yield('scripts')
&lt;/body>
&lt;/html></code></pre>

            <p>Trong view, bạn có thể định nghĩa nội dung cho mỗi section:</p>

            <pre><code>// resources/views/home.php
&lt;?php $this->setLayout('layouts.app'); ?>

@section('styles')
&lt;style>
    .home-header { color: red; }
&lt;/style>
@endsection

@section('content')
&lt;h1 class="home-header">Trang chủ&lt;/h1>
&lt;p>Chào mừng đến với ứng dụng VuToiChoi!&lt;/p>
@endsection

@section('scripts')
&lt;script>
    console.log('Home page loaded!');
&lt;/script>
@endsection</code></pre>

            <h2 id="database-config">Database Configuration</h2>

            <p>VuToiChoi cung cấp một phương thức đơn giản để làm việc với cơ sở dữ liệu. Cấu hình cơ sở dữ liệu được
                lưu trữ trong file <code>config/database.php</code> và có thể được cấu hình thông qua file
                <code>.env</code>.</p>

            <pre><code>// .env
DB_HOST=localhost
DB_DATABASE=ten_database
DB_USERNAME=root
DB_PASSWORD=
DB_CHARSET=utf8mb4</code></pre>

            <p>Sau khi đã cấu hình cơ sở dữ liệu, bạn có thể bắt đầu sử dụng các chức năng cơ sở dữ liệu trong ứng dụng
                của mình.</p>

            <h2 id="query-builder">Query Builder</h2>

            <p>VuToiChoi cung cấp một query builder đơn giản để xây dựng và thực thi các truy vấn SQL.</p>

            <h3>Lấy Tất Cả Bản Ghi</h3>

            <pre><code>$users = DB::table('users')->get();</code></pre>

            <h3>Lấy Một Bản Ghi</h3>

            <pre><code>$user = DB::table('users')->where('id', 1)->first();</code></pre>

            <h3>Các Mệnh Đề Where</h3>

            <pre><code>$users = DB::table('users')
            ->where('status', 'active')
            ->where('age', '>', 18)
            ->get();</code></pre>

            <h3>Sắp Xếp</h3>

            <pre><code>$users = DB::table('users')
            ->orderBy('name', 'asc')
            ->get();</code></pre>

            <h3>Giới Hạn & Phân Trang</h3>

            <pre><code>$users = DB::table('users')
            ->skip(10)
            ->take(5)
            ->get();</code></pre>

            <h3>Chèn</h3>

            <pre><code>DB::table('users')->insert([
    'name' => 'John Doe',
    'email' => 'john@example.com',
    'password' => password_hash('password', PASSWORD_DEFAULT)
]);</code></pre>

            <h3>Cập Nhật</h3>

            <pre><code>DB::table('users')
    ->where('id', 1)
    ->update(['email' => 'new-email@example.com']);</code></pre>

            <h3>Xóa</h3>

            <pre><code>DB::table('users')->where('id', 1)->delete();</code></pre>

            <h2 id="models">Models</h2>

            <p>VuToiChoi cung cấp lớp Model cơ bản mà bạn có thể kế thừa để tương tác với bảng trong cơ sở dữ liệu.</p>

            <h3>Định Nghĩa Model</h3>

            <pre><code>// app/Models/User.php
&lt;?php

namespace App\Models;

use Framework\Model;

class User extends Model
{
    protected $table = 'users';
    protected $primaryKey = 'id';
    protected $fillable = ['name', 'email', 'password'];
    
    // Relation methods can be defined here
}</code></pre>

            <h3>Sử Dụng Model</h3>

            <p>Sau khi định nghĩa model, bạn có thể sử dụng nó để tương tác với cơ sở dữ liệu:</p>

            <pre><code>// Lấy tất cả người dùng
$users = User::all();

// Tìm người dùng theo ID
$user = User::find(1);

// Tạo người dùng mới
$user = User::create([
    'name' => 'John Doe',
    'email' => 'john@example.com',
    'password' => password_hash('password', PASSWORD_DEFAULT)
]);

// Cập nhật người dùng
$user = User::find(1);
$user->update(['name' => 'Jane Doe']);

// Xóa người dùng
$user = User::find(1);
$user->delete();</code></pre>

            <h2 id="authentication">Authentication</h2>

            <p>VuToiChoi cung cấp một hệ thống xác thực đơn giản nhưng mạnh mẽ. Bạn có thể sử dụng các phương thức được
                cung cấp để xác thực người dùng, kiểm tra trạng thái đăng nhập và quản lý phiên làm việc.</p>

            <h3>Đăng Nhập Người Dùng</h3>

            <pre><code>// Trong controller đăng nhập
public function login(Request $request)
{
    $credentials = $request->validate([
        'email' => 'required|email',
        'password' => 'required'
    ]);
    
    $user = User::where('email', $credentials['email'])->first();
    
    if (!$user || !password_verify($credentials['password'], $user->password)) {
        return back()->with('error', 'Thông tin đăng nhập không chính xác');
    }
    
    // Đăng nhập người dùng
    auth()->login($user);
    
    return redirect('/dashboard');
}</code></pre>

            <h3>Kiểm Tra Trạng Thái Đăng Nhập</h3>

            <pre><code>if (auth()->check()) {
    // Người dùng đã đăng nhập
}</code></pre>

            <h3>Lấy Người Dùng Hiện Tại</h3>

            <pre><code>$user = auth()->user();</code></pre>

            <h3>Đăng Xuất</h3>

            <pre><code>auth()->logout();
return redirect('/');</code></pre>

            <h2 id="validation">Validation</h2>

            <p>VuToiChoi cung cấp một hệ thống validation dễ sử dụng để xác thực dữ liệu đầu vào.</p>

            <h3>Cơ Bản</h3>

            <pre><code>$data = $request->validate([
    'name' => 'required|min:3',
    'email' => 'required|email|unique:users',
    'password' => 'required|min:8|confirmed',
]);</code></pre>

            <p>Nếu validation thất bại, framework sẽ tự động chuyển hướng người dùng trở lại form với các thông báo lỗi.
            </p>

            <h3>Các Quy Tắc Validation</h3>

            <p>VuToiChoi cung cấp nhiều quy tắc validation:</p>

            <ul>
                <li><code>required</code>: Trường phải có mặt và không trống</li>
                <li><code>email</code>: Trường phải là một địa chỉ email hợp lệ</li>
                <li><code>min:value</code>: Trường phải có ít nhất value ký tự</li>
                <li><code>max:value</code>: Trường không được vượt quá value ký tự</li>
                <li><code>numeric</code>: Trường phải là một số</li>
                <li><code>integer</code>: Trường phải là một số nguyên</li>
                <li><code>boolean</code>: Trường phải là true/false hoặc 1/0</li>
                <li><code>date</code>: Trường phải là một ngày hợp lệ</li>
                <li><code>unique:table,column,except,idColumn</code>: Trường phải là duy nhất trong table</li>
                <li><code>confirmed</code>: Trường phải có một trường khớp tương ứng là {field}_confirmation</li>
                <li><code>in:foo,bar,...</code>: Trường phải nằm trong danh sách các giá trị</li>
                <li><code>not_in:foo,bar,...</code>: Trường không được nằm trong danh sách các giá trị</li>
            </ul>

            <h3>Hiển Thị Lỗi Validation</h3>

            <p>Trong view, bạn có thể hiển thị lỗi validation như sau:</p>

            <pre><code>&lt;input type="text" name="email" class="{{ has_error('email') ? 'is-invalid' : '' }}">
@if (has_error('email'))
    &lt;div class="invalid-feedback">{{ error('email') }}&lt;/div>
@endif</code></pre>

            <h2 id="csrf-protection">CSRF Protection</h2>

            <p>VuToiChoi bao gồm bảo vệ CSRF (Cross-Site Request Forgery) để bảo vệ ứng dụng của bạn khỏi các cuộc tấn
                công CSRF.</p>

            <p>Để bảo vệ form của bạn, bạn cần thêm token CSRF vào form:</p>

            <pre><code>&lt;form method="POST" action="/profile">
    {{ csrf_field() }}
    
    &lt;!-- Form fields -->
&lt;/form></code></pre>

            <p>Framework sẽ tự động xác thực token này cho tất cả các request POST, PUT, DELETE.</p>

            <h2 id="middleware">Middleware</h2>

            <p>Middleware cung cấp một cơ chế thuận tiện để lọc HTTP requests vào ứng dụng của bạn. Middleware có thể
                được sử dụng để xác thực người dùng, kiểm tra CSRF, ghi log và nhiều tác vụ khác.</p>

            <h3>Định Nghĩa Middleware</h3>

            <pre><code>// app/Middleware/AuthMiddleware.php
&lt;?php

namespace App\Middleware;

use Framework\Request;

class AuthMiddleware
{
    public function handle(Request $request, $next)
    {
        if (!auth()->check()) {
            return redirect('/login');
        }
        
        return $next($request);
    }
}</code></pre>

            <h3>Đăng Ký Middleware</h3>

            <p>Bạn có thể đăng ký middleware toàn cục hoặc cho các route cụ thể:</p>

            <pre><code>// Đăng ký middleware toàn cục
$app->registerMiddleware([
    \App\Middleware\CsrfMiddleware::class,
]);

// Đăng ký middleware cho route cụ thể
$router->group(['middleware' => [\App\Middleware\AuthMiddleware::class]], function ($router) {
    $router->get('/dashboard', 'DashboardController@index');
});</code></pre>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Mobile menu toggle
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            const sidebar = document.querySelector('.documentation-sidebar');

            mobileMenuToggle.addEventListener('click', function () {
                sidebar.classList.toggle('show');
            });

            // Sidebar active link
            const sidebarLinks = document.querySelectorAll('.sidebar-link');

            sidebarLinks.forEach(link => {
                link.addEventListener('click', function () {
                    sidebarLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');

                    if (window.innerWidth < 992) {
                        sidebar.classList.remove('show');
                    }
                });
            });

            // Highlight active section on scroll
            window.addEventListener('scroll', function () {
                const sections = document.querySelectorAll('h1[id], h2[id]');
                let current = '';

                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    if (pageYOffset >= sectionTop) {
                        current = section.getAttribute('id');
                    }
                });

                sidebarLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>

</html>